<app-blank pageName="Randevularım">
  <section class="content">
    <div class="container-fluid">
      <!-- Geri Gel İkonu ve Selectbox -->
      <div class="row">
        <div class="col-12 d-flex align-items-center">
          <button class="btn btn-secondary mr-3" (click)="goBack()">
            <i class="fas fa-arrow-left"></i> Geri Gel
          </button>
          <select class="form-control-border form-control w-auto" [(ngModel)]="selectedFilter" (change)="onFilterChange($event)">
            <option value="all">Tüm Randevular</option>
            <option value="mine">Bana Ait Randevular</option>
          </select>
        </div>
      </div>
      <!-- Randevular -->
      <div class="row mt-3">
        <ng-container>
          <div class="containet">
            <table class="table table-striped projects">
              <thead>
                <!-- Başlıklar buraya eklenebilir -->
              </thead>
              <tbody>
                <ng-container *ngIf="appointments && appointments.items.length >= 1; else noAppointments">
                  <tr *ngFor="let appointment of appointments.items;">
                    <td>
                      <span class="badge badge-primary" style="font-size: 1em;">
                        <i class="fas fa-calendar-alt" style="margin-right: 2px; font-size: 1em;"></i>
                        {{ appointment.intervalDate | date: 'dd-MM-yyyy HH:mm' }}
                      </span>
                      <br />
                      <span [class]="getBadgeStatusIcon(appointment.appointmentStatus).css">
                        <i class="fas fa-tag" style="margin-left: 2px; font-size: 1em;"></i>
                        {{ getBadgeStatusIcon(appointment.appointmentStatus).value }}
                      </span>
                    </td>
                    <td>
                      <ul class="list-inline">
                        <p>
                          <i class="fas fa-hospital" style="margin-left: 0px;"></i>
                          Tobeto Hastahanesi
                        </p>
                        <p>
                          <i class="fas fa-code-branch" style="margin-left: 0px;"></i>
                          {{ appointment.branchName }}
                        </p>
                      </ul>
                    </td>
                    <td class="project-state">
                      <p>
                        <i class="fas fa-user-doctor" style="margin-left: 0px;"></i>
                        {{ appointment.doctorName }}
                      </p>
                    </td>
                  </tr>
                </ng-container>
                <ng-template #noAppointments>
                  <div class="alert alert-warning">Mevcut rapor bulunmamaktadır.</div>
                </ng-template>
              </tbody>
            </table>
          </div>
        </ng-container>
      </div>
    </div>
    <!-- /.container-fluid -->
    <nav aria-label="Page navigation">
      <ul class="pagination justify-content-center">
        <li class="page-item">
          <a class="page-link" (click)="goToFirstPage()">İlk</a>
        </li>
        <li class="page-item">
          <a class="page-link" (click)="prevPage()">Önceki</a>
        </li>
        <li class="page-item" *ngFor="let pageNumber of getPageNumbers()">
          <a class="page-link" (click)="goToPage(pageNumber)" [ngClass]="{ 'active': pageNumber === pageIndex }">{{ pageNumber }}</a>
        </li>
        <li class="page-item">
          <a class="page-link" (click)="nextPage()">Sonraki</a>
        </li>
        <li class="page-item">
          <a class="page-link" (click)="goToLastPage()">Son</a>
        </li>
      </ul>
    </nav>
  </section>
</app-blank>
